# AGENTS.md - Personal Website Guidelines

**Project Type:** Simple static site (portfolio/resume)
**AI Context:** No ai/ directory needed - project guidelines in this file

## Technology Stack

- **Astro v5** - Static site generation with component islands
- **Tailwind CSS v4** - Next-gen CSS engine via @tailwindcss/vite
- **Bun** - Fast JavaScript runtime and package manager
- **Geist Sans** - Modern body text (via Fontsource)
- **Exo 2** - Futuristic geometric heading font (via Fontsource)
- **JetBrains Mono** - Monospace font for code (via Fontsource)
- **XeLaTeX** - Resume PDF generation

## Build & Development

```bash
bun install          # Install dependencies
bun run dev          # Development server (localhost:4321)
bun run build        # Build resume PDF + production build → dist/
bun run build:resume # Generate resume PDF only
bun run preview      # Preview production build
```

## Architecture Decisions

- **Static-first**: All pages pre-rendered for maximum performance
- **Bun over npm**: Faster installs and builds
- **Self-hosted fonts**: Geist Sans, Exo 2, JetBrains Mono - no external CDN dependencies
- **No external CSS**: Removed devicons CDN (~100KB) - add back via `<link href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css">` in Layout.astro if needed for tech icons
- **Automated resume**: PDF generated from LaTeX source on build
- **GitHub integration**: Repo data fetched via Actions → static JSON (see Data Architecture below)
- **SEO**: Open Graph tags, sitemap, robots.txt
- **Deployment**: Cloudflare Pages with GitHub auto-deploy on push to main

## File Structure

```
src/
├── components/     # Astro components
├── content/        # Markdown blog posts
├── layouts/        # Astro layout templates
├── pages/          # File-based routing
│   ├── resume.astro     # Online resume
│   └── projects.astro   # Projects showcase
└── utils/          # Utilities
public/
├── data/           # Static JSON (pinned repos)
├── fonts/          # Self-hosted fonts
├── Nicholas_Russo_Resume.pdf  # Generated from resume/resume.tex
├── manifest.json   # PWA manifest
└── robots.txt      # SEO config
resume/
├── resume-data.json     # Single-source resume data
├── resume.tex           # Generated LaTeX (from data)
└── RESUME.md            # Generated Markdown (from data)
```

## Data Architecture

**IMPORTANT: Understand this before editing project data.**

| File                     | Source                     | Editable?                            |
| ------------------------ | -------------------------- | ------------------------------------ |
| `public/data/repos.json` | Auto-generated by workflow | **NO - never edit**                  |
| `src/data/projects.ts`   | Manual TypeScript          | Yes - add projects here              |
| `scripts/fetch-repos.js` | Script config              | Yes - add repos to track star counts |

### How it works

1. **Workflow** (`fetch-repos.yml`) runs every 6 hours
2. **Script** (`fetch-repos.js`) queries GitHub API for:
   - Pinned repos (from your GitHub profile)
   - Star counts for repos listed in `projectRepos` array
3. **Output** written to `repos.json` (overwrites any manual changes)
4. **`projects.astro`** reads both:
   - `repos.json.pinned` → "Featured Repositories" section
   - `repos.json.projects` → populates star counts
   - `projects.ts` → "Recent Projects" and "Other Projects" sections

### To add a new project

1. Add entry to `src/data/projects.ts` with name, description, status, tech, category
2. If you want star counts, add repo to `projectRepos` array in `scripts/fetch-repos.js`
3. Do NOT edit `repos.json` - it will be overwritten

### Private repos

Private repos can be listed in `projects.ts` (no URL, no `repo` field). They won't have star counts but will appear in the projects list.

## Resume Generation

- **Source**: `resume/resume-data.json` → generates `resume.tex` and `RESUME.md`
- **Build**: `bun run build:resume` generates files and compiles PDF
- **Output**: Copied to `public/Nicholas_Russo_Resume.pdf`
- **Requirements**: XeLaTeX (installed via TeX Live)

## Design System

- **Philosophy**: Clean, professional design with deep space observatory theme
- **Colors**: High contrast text, cyan-teal gradient accent (#22d3ee → #14b8a6)
- **Typography**: Geist Sans (body), Exo 2 (headings), JetBrains Mono (code)
- **Layout**: Responsive grid, mobile-first approach
- **Performance**: Static-first, self-hosted fonts, minimal JavaScript

## Deployment

- **Platform**: Cloudflare Pages (GitHub integration)
- **Build command**: `bun run build`
- **Build output directory**: `dist/`
- **Production branch**: `main` (automatic deployments on push)
- **Framework preset**: Astro (auto-detected)
- **Domain**: nijaru.com (Cloudflare DNS)

## Development Guidelines

- **Accessibility**: Semantic HTML, keyboard navigation, high contrast
- **Performance**: Static pages, optimized fonts, efficient bundles
- **Code quality**: Clean, maintainable Astro components
- **Git**: Conventional commits, frequent small commits

## AI Context Organization

**Project Pattern:** Simple static site - no ai/ directory needed

This portfolio site uses a simplified structure:

- **AGENTS.md** (this file): Project overview, tech stack, build commands
- **CLAUDE.md**: Symlink to AGENTS.md for compatibility
- **No ai/ directory**: Simple project with stable architecture, no complex development phases

**When to add ai/ structure:**

- If adding complex features requiring multi-session planning
- If tracking research/design decisions
- If project grows beyond simple static site

**Reference:** github.com/nijaru/agent-contexts

---
import Layout from "../layouts/Layout.astro";
import resumeData from "../../resume/resume-data.json";

const { skills, projects, experience, awards, education, emailDisplay, github, website } = resumeData;
---

<Layout
    title="Nicholas Russo - Resume"
    description="Backend engineer building database internals and AI agents. Systems programming in Rust and multi-agent AI with LangGraph."
    ogType="profile"
>
    <!-- Resume Container -->
    <div class="container container-sm pt-32 pb-16 print:pt-0 print:pb-0 print:max-w-full print:px-0">
        <!-- Header -->
        <section class="mb-12 text-center print:mb-6">
            <h1 class="heading-1 mb-4 print:text-3xl print:mb-2">
                <span class="text-accent-primary">Nicholas</span> Russo
            </h1>
            <div class="flex flex-wrap justify-center gap-4 text-sm text-text-secondary print:text-xs print:gap-2 print:text-black">
                <span>{emailDisplay}</span>
                <span class="text-text-tertiary print:text-black">•</span>
                <a href={`https://${github}`} class="hover:text-accent-primary transition-colors print:text-black print:no-underline">
                    {github}
                </a>
                <span class="text-text-tertiary print:text-black">•</span>
                <a href={`https://${website}`} class="hover:text-accent-primary transition-colors print:text-black print:no-underline">
                    {website}
                </a>
            </div>
            <div class="mt-8 print:hidden">
                <a href="/Nicholas_Russo_Resume.pdf" download class="btn btn-secondary">
                    Download PDF
                </a>
            </div>
        </section>

        <div class="divider my-12 print:hidden"></div>

        <!-- Skills -->
        <section class="mb-12 print:mb-6">
            <h2 class="text-lg font-semibold text-accent-primary mb-4 uppercase tracking-wider print:text-black print:border-b print:border-black print:pb-1">Skills</h2>
            <div class="space-y-3 print:space-y-2 print:text-sm">
                <div class="grid grid-cols-1 md:grid-cols-[140px_1fr] gap-2 md:gap-4 items-start print:grid-cols-[120px_1fr]">
                    <span class="font-medium text-text-primary print:text-black">Languages:</span>
                    <span class="text-text-secondary print:text-black">{skills.languages.join(', ')}</span>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-[140px_1fr] gap-2 md:gap-4 items-start print:grid-cols-[120px_1fr]">
                    <span class="font-medium text-text-primary print:text-black">Backend/APIs:</span>
                    <span class="text-text-secondary print:text-black">{skills.backend.join(', ')}</span>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-[140px_1fr] gap-2 md:gap-4 items-start print:grid-cols-[120px_1fr]">
                    <span class="font-medium text-text-primary print:text-black">Infrastructure:</span>
                    <span class="text-text-secondary print:text-black">{skills.infrastructure.join(', ')}</span>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-[140px_1fr] gap-2 md:gap-4 items-start print:grid-cols-[120px_1fr]">
                    <span class="font-medium text-text-primary print:text-black">Databases:</span>
                    <span class="text-text-secondary print:text-black">{skills.databases.join(', ')}</span>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-[140px_1fr] gap-2 md:gap-4 items-start print:grid-cols-[120px_1fr]">
                    <span class="font-medium text-text-primary print:text-black">Tools:</span>
                    <span class="text-text-secondary print:text-black">{skills.tools.join(', ')}</span>
                </div>
            </div>
        </section>

        <!-- Projects -->
        <section class="mb-12 print:mb-6">
            <h2 class="text-lg font-semibold text-accent-primary mb-6 uppercase tracking-wider print:text-black print:border-b print:border-black print:pb-1 print:mb-4">Projects</h2>
            <div class="space-y-6 print:space-y-3">
                {projects.map((project) => (
                    <div>
                        <div class="flex items-baseline gap-2 mb-1">
                            <h3 class="text-lg font-bold text-text-primary print:text-black print:text-sm">
                                {project.url ? (
                                    <a
                                        href={project.url}
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        class="hover:text-accent-primary transition-colors print:text-black print:no-underline"
                                    >
                                        {project.name}
                                    </a>
                                ) : (
                                    project.name
                                )}
                            </h3>
                            {project.url && (
                                <span class="text-xs text-text-tertiary font-mono print:text-black">
                                    {project.url.replace('https://', '')}
                                </span>
                            )}
                        </div>
                        <p class="text-text-secondary mb-2 print:text-black print:text-sm">
                            {project.description}
                        </p>
                        <div class="flex flex-wrap gap-2 print:hidden">
                            {project.tech.map(t => (
                                <span class="text-xs text-text-tertiary px-2 py-1 rounded bg-white/5">{t}</span>
                            ))}
                        </div>
                        <p class="hidden print:block print:text-xs print:text-black print:italic">
                            Built with: {project.tech.join(', ')}
                        </p>
                    </div>
                ))}
            </div>
        </section>

        <!-- Experience -->
        <section class="mb-12 print:mb-6">
            <h2 class="text-lg font-semibold text-accent-primary mb-6 uppercase tracking-wider print:text-black print:border-b print:border-black print:pb-1 print:mb-4">Experience</h2>
            <div class="space-y-8 print:space-y-4">
                {experience.map((job) => (
                    <div>
                        <div class="flex flex-col md:flex-row md:justify-between md:items-baseline mb-2 print:flex-row print:justify-between">
                            <h3 class="text-xl font-bold text-text-primary print:text-black print:text-base">
                                {job.title}
                            </h3>
                            <span class="text-sm text-text-tertiary font-mono print:text-black print:text-xs">
                                {job.period}
                            </span>
                        </div>
                        <p class="text-md font-medium text-accent-primary mb-3 print:text-black print:text-sm print:mb-1">
                            {job.company}
                        </p>
                        <ul class="list-disc list-outside ml-5 space-y-2 marker:text-accent-primary print:marker:text-black">
                            {job.achievements.map((achievement) => (
                                <li class="text-text-secondary leading-relaxed print:text-black print:text-sm">
                                    {achievement}
                                </li>
                            ))}
                        </ul>
                    </div>
                ))}
            </div>
        </section>

        <!-- Awards -->
        <section class="mb-12 print:mb-6">
            <h2 class="text-lg font-semibold text-accent-primary mb-6 uppercase tracking-wider print:text-black print:border-b print:border-black print:pb-1 print:mb-4">Awards</h2>
            <div class="space-y-6 print:space-y-3">
                {awards.map((award) => (
                    <div>
                        <h3 class="text-lg font-bold text-text-primary mb-1 print:text-black print:text-sm">
                            {award.title}
                        </h3>
                        <p class="text-sm text-accent-primary mb-2 print:text-black print:italic">
                            {award.project}
                        </p>
                        <p class="text-text-secondary print:text-black print:text-sm">
                            {award.description}
                        </p>
                    </div>
                ))}
            </div>
        </section>

        <!-- Education -->
        <section class="mb-16 print:mb-6">
            <h2 class="text-lg font-semibold text-accent-primary mb-6 uppercase tracking-wider print:text-black print:border-b print:border-black print:pb-1 print:mb-4">Education</h2>
            <div class="space-y-6 print:space-y-3">
                {education.map((edu) => (
                    <div class="flex flex-col md:flex-row md:justify-between md:items-start print:flex-row print:justify-between">
                        <div>
                            <h3 class="text-lg font-bold text-text-primary print:text-black print:text-sm">
                                {edu.school}
                            </h3>
                            <p class="text-text-secondary print:text-black print:text-sm">
                                {edu.degree}, {edu.location}
                            </p>
                            {edu.detail && (
                                <p class="text-sm text-text-tertiary mt-1 print:text-black print:italic">
                                    {edu.detail}
                                </p>
                            )}
                        </div>
                        <span class="text-sm text-text-tertiary font-mono mt-1 md:mt-0 print:text-black print:text-xs">
                            {edu.period}
                        </span>
                    </div>
                ))}
            </div>
        </section>

        <!-- Navigation -->
        <section class="text-center print:hidden">
            <a href="/" class="btn btn-ghost link-arrow">
                Back to Home
            </a>
        </section>

        <!-- Print Footer -->
        <div class="hidden print:block text-center text-xs mt-8 border-t pt-4">
            <p>Full resume and portfolio available at nijaru.com</p>
        </div>
    </div>
</Layout>

<style>
    @media print {
        @page {
            size: letter;
            margin: 0.5in;
        }

        * {
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        /* Force white background for print */
        :global(body) {
            background-color: white !important;
            color: black !important;
        }

        /* Hide navigational elements */
        :global(nav), :global(footer), :global(.star-field) {
            display: none !important;
        }
    }
</style>
